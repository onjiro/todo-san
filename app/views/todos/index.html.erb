  <h1>TODO 一覧</h1>

  <div class="loading" ng-show="loading">
    <p style="color: #aaa;">ロード中...</p>
  </div>

  <div class="todo-area" ng-hide="loading">
    <div class="table-responsive" ng-hide="loading">
      <table class="table table-striped table-bordered table-hover">
        <tbody>

          <!-- 新規登録フォーム -->
          <tr class="todo-entry-form">
            <td>
              <div class="input-group">
                <form ng-submit="saveNewTodo($event, newtodo)" >
                  <input type="text" class="form-control" ng-model="newtodo.content" autofocus />
                </form>
                <span class="input-group-btn">
                  <a class="btn btn-mini btn-primary" href="/todos" ng-click="saveNewTodo($event, newtodo)">
                    <span class="glyphicon glyphicon-ok"></span>
                  </a>
                </span>
              </div>
            </td>
          </tr>

          <!-- 表示、編集フォーム -->
          <tr class="todo-item" ng-repeat="todo in todos | orderBy:'-id'">
            <td>
              <!-- 表示時 -->
              <div class="input-group" ng-hide="todo.editing">
                <span class="input-group-addon">
                  <input type="checkbox" ng-model="todo.done" ng-change="doneEditTodo($event, todo)" />
                </span>
                <span  ng-click="editTodo($event, todo)">
                  <input type="text" class="form-control" ng-model="todo.content" disabled />
                </span>
                <span class="input-group-btn">
                  <a class="btn btn-mini btn-default" ng-click="removeTodo($event, todo)" href="/todos/{{ todo.id }}" rel="nofollow">
                    <span class="glyphicon glyphicon-trash"></span>
                  </a>
                </span>
              </div>

              <!-- 編集時 -->
              <div class="input-group" ng-show="todo.editing">
                <form ng-submit="doneEditTodo($event, todo)" >
                  <input type="text" class="form-control" ng-model="todo.content" todo-focus="todo.editing" />
                </form>
                <span class="input-group-btn">
                  <a class="btn btn-mini btn-primary" href="/todos" ng-click="doneEditTodo($event, todo)">
                    <span class="glyphicon glyphicon-ok"></span>
                  </a>
                </span>
              </div>

            </td>
          </tr>
        </tbody>
      </table>
    </div>

  </div>
